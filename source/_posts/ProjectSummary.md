---
title: ProjectSummary     
date: 2016-07-15 15:16:24     


#项目总结   

> 其实这篇项目总结，一直都想写，然而，每次都是想想，这次终于开写了，毕竟再不写，离开了公司，再写就缺少了点感觉。    
> 总结这一年，所学习到的方法，方式，和自己觉得可以改善的地方，无论是开发中，还是项目管理上，给自己。     

 首先，很感谢我的上司，技术总监兼产品经理。在他身上我学到了很多。      
 
 - 搜索方法，我基本搜索都是用的 baidu ＋ 中文，到现在的Google + stackoverflow + github  + keyWords。   
 我看过一句话，"其实有的人，不是比你牛多少，而是会比你搜索",而其实搜索，就很能体现很多，你必须清楚你的问题是什么，然后用简单的words 描述出来，而搜素不到的， 你必须再想想，这个问题的实质是什么。所以每次老大发解决问题答案的链接给我时，我点击看的并不只是解决方案， 也有链接本身，上面有描述问题的关键词 ;      
 
 - 解决问题的方法，多问为什么？每次我或者其他同事遇到难题时，或者程序出现比较难解决的bug 的时候，你跟他沟通，他最多的话就是，"为什么？（so?）"，在你讲完"为什么"后，他又来句，“为什么？”...。 其实，很多时候，我都是抓狂了，我要知道我就不会问你了！而实际上，这几句"为什么？"还是挺有用的，因为他的几句问，你就会思考，然后问题就找到本质了，或者直接解决了。 在我上上个月看完《高效程序员的45个习惯》后，我更理解这种行为了，上面有一章写到，要以问回问，触发问问题的人思考，慢慢的，他自己就知道问题所在了。所以，现在再遇到问题，多问自己几个，为什么。刨根问底。       
 
 - 遇事先解决，不批评。我犯过几次错误，必须将正在上线的项目撤下，然后修复重新上架，或者刚上线发现问题然后修复了加急。对此，我真是表示很抱歉，也很内疚，有一次是支付宝的回调地址，用了线下测试的，上线的时候没有改过来，后来这种全部换成了`IFDDEBUG`，然后不得不重新改完，然后加急申请。 也有一次是某个页面，有个`变量名`有些地方改了，唯独在视图中某处没改过来，结果导致商品全是显示一样的，最后也不得不把刚提交的项目撤回，然后重新提交。其实每次出现这种事的时候，内心是不好受的，毕竟是自己的失责导致的，但是领导不是批评，不是指责，而是问可能是什么原因导致的，这种做法，我也很钦佩，所以渐渐的，为了悲剧重演，每次敲完代码，都回头看看，写了什么，也就是`codeView`吧。后来我在看《高效程序员的45个习惯》 中，也发现书中都有写到这点。        
 
 
所以，我极力推荐这本 《高效程序员的45个习惯》，看并且践行它。     


我们技术部，应该说是很多创业公司的配置，android,iOS ,后台，web前端，UI,测试各一名。    
以前的项目任务分配是使用Tower进行管理，后来有了测试，就以GitLab 中的milestone 为主了。    
每个版本建立一个milestone ，测试会根据提出的需求，在对应的version 中的milestone建立任务，当然，还包括发现的，需要修复的bug。    
代码管理是通过git 来管理的，简直完爆各类svn啊！         

开发流程：没有测试之前，基本都是老大总结需求，然后分解后，放在tower上，并标有完成时间，        
         有了测试之后，   
         
 - 每次提出需求，进行需求评审   
 - 测试进行需求分解，而后编写测试用例，    
 - 开发一起评审用例，而后开发  
 - 开发完成后，打包给测试，测试对照测试用例监测，必监测的测试点(支付流程), (其实这里方便的话，开发可以记录自己修改代码的范畴，写个测试功能点，为测试减少时间)。    
 - 修复bug， 切换至生产环境测试～最后发布 等。       
 
 
 其实开发流程算是比较规范的了，有个缺陷是，没有对UI评审，以至于每次看到 UI ，后台没有字段的得添加字段，前端有的也不知道怎么交互，这也是通常开发中，耗时比较多的一环节，所以下次一定要注意！  
 **UI 跟后台没有沟通，是很浪费时间的～**
 
 **需要对UI  进行评审，并且对APP内的字体主题颜色，字体大小，需要统一～   这是教训～  还有**，   
 **后台和UI  一定务必提前一点完成，不然每次需求下来，不是等UI  图 就是等 后台接口，太浪费时间了，导致真正的编写代码时间太少，每次都只能到deadTime的当天完成，并且还没测试，最后测试时间也很紧张，这也是我们开发团队中存在的最大问题**     
 
 开发采用的是敏捷开发，迭代周期为两星期。每个迭代，修复上一版本的bug 和这一版本的需求。 需求的时间一般都会分解到3天之内完成。      
 
 觉得团队一定要多沟通吧，遇事一定要先说明。没有专职的产品经理公司也没有专业的需求文档时，得有一个人清楚业务流程，和怎么交互。 其实我是比较喜欢先分析业务流程的，你业务清楚了，敲起来心理也就清楚，怎么跳转，类啊什么的怎么封装。          
 
 
 不要花太多时间停留在想上面。 先去实现，你都没实现，就想着怎么最优，对开发来说，是很不靠谱的。 有时候我，看到UI 图 或者某些功能，觉得有点难以下手，总感觉实现的方式不是最佳，就不开始编码，然后一天两天过去了，还是没有敲下一句代码 ， 后来在哪看到一句话，大意是，你连基本的实现都没有完成，还在想着怎么实现最好？ 是的， 你先实现它，至于蠢不蠢，等你实现完成后，再慢慢想更好的方法，毕竟你不是敲了就不管了。      
 
 - 不能相信后台说，返回的字段没有`nil`, `null` 的情况；   
 - 不能相信测试说，这个版本ok ，没发现什么bug；   
 - 不能相信产品经理说，这版改了下版段时间不会改；
 - 不能相信UI说， 这次的主题色是蓝色，这个间距是多少；
 - 其实最不能相信自己， 总放下豪言，这绝对是这版本的最后一次`commit` ,`push`.      
 
 正是因为这样，所以我们要对自己要求细心， **用数据之前一定要检查，无论后台说什么，做了什么保证，因为有时候可能是运营上传的数据，他们不按规定来，尽量将多个同级页面相同的颜色用常量定义，方便下次更改，如果有本地测试和线上测试的差别，记得多用IFDEBUG, 你不能保证你上线时候从线下切换到了线上API**        
 
 做一个 `DEBUG SETTING`的界面，在这个界面，定义不同的`host URL`.通过更改它。达到更改`base url ` 的目的，不用每次收到的切换线下，线上，灰度各环境中的服务器，这是很能省事省时的。    
 
 **确保版本的可用性，可运行性。这个怎么描述呢？ 大概是，确保有个分支上的代码是你上个版本提交的最后一版，新的需求建立新的分支。这样能保证上一版本有bug时，能快速修复，并上线。如果将新的功能需求写入最后一版， 那有紧急bug 修复，又得注释掉了，又有得忙了。所以，利用好`git` 很重要，最好能将每次提交的版本给个`tag`，这样找起来也方便。在`commit`这一步中，尽量能用准确简洁的字描述`commit message`,不是每次都是`commit message -m 'bug fix ', 这样你知道你fix 的是哪个bug么？**      
 这都是实际项目中遇到的问题，有时候没有保持版本分支的独立和可用，浪费了些时间～这都是教训。 
     
     
 
#关于应用安全做法    
> 本应用中    

1. 将用户的登录信息,放在`http request header`中；
2. 用`keychain` 保存`memberId`和`session_id`,只有两者同时存在时，才为登录；
3. 不将支付需要的任何`key`,`id`，保留在前端，需要用时像后台获取，哪怕是固定的；
4. 后台不要相信前端传过去的关键数字，例如，`totalPrice`，需要通过前端传过去的`goodsId`,`account` 去算`totalPrice`,然后再处理订单。          

在此之前，我可能觉得有些做法是多余的，自从我开始研究点逆向后，才发现上诉的做法（在我看来多余的第四条），是完全正确的。   


# 关于集成  
使用的fir 进行集成分发， 后期基本是每天一版本，测试可以在第二天早上进行测试，可以早点发现问题，然后修复。    
**线下的百分百无误，往往不能代表线上也无误，所以要早些放正式环境中测...**

(待续...)   






 
 
 
 
        
     

 